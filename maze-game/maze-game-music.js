const bgm = tune`
159.5744680851064: D5-250.5744680851064 + D3/210.5744680851064,
159.5744680851064: D3/210.5744680851064,
159.5744680851064: D3/210.5744680851064,
159.5744680851064,
159.5744680851064: C5-250.5744680851064,
159.5744680851064: D3/210.5744680851064,
159.5744680851064: D3/210.5744680851064,
159.5744680851064: B4-250.5744680851064 + G2/210.5744680851064,
159.5744680851064: G2/210.5744680851064,
159.5744680851064: G2/210.5744680851064,
159.5744680851064: G2/210.5744680851064,
159.5744680851064: G2/210.5744680851064,
159.5744680851064,
159.5744680851064: G2/210.5744680851064,
159.5744680851064: G4-250.5744680851064 + G2/210.5744680851064,
159.5744680851064: A4-250.5744680851064 + A2/210.5744680851064,
159.5744680851064: A#4-250.5744680851064 + A#2/210.5744680851064,
159.5744680851064,
159.5744680851064,
159.5744680851064: A2/210.5744680851064,
159.5744680851064: C5-250.5744680851064,
159.5744680851064: C2/210.5744680851064,
159.5744680851064,
159.5744680851064: D5-250.5744680851064 + C2/210.5744680851064,
159.5744680851064: C2/210.5744680851064,
159.5744680851064: D4-250.5744680851064 + D2/210.5744680851064,
159.5744680851064: D4-250.5744680851064 + D2/210.5744680851064,
159.5744680851064: D4-250.5744680851064 + D2/210.5744680851064,
159.5744680851064: D2/210.5744680851064,
159.5744680851064: D2/210.5744680851064,
159.5744680851064,
159.5744680851064`;

const win = tune`
208.33333333333334: C4-208.33333333333334 + C3/208.33333333333334,
208.33333333333334: D4-208.33333333333334,
208.33333333333334: E4-208.33333333333334 + C3/208.33333333333334,
208.33333333333334: F4-208.33333333333334 + F2/208.33333333333334,
208.33333333333334: G4-208.33333333333334,
208.33333333333334: A4-208.33333333333334 + F2/208.33333333333334,
208.33333333333334: G4-208.33333333333334 + G2/208.33333333333334,
208.33333333333334: C5-208.33333333333334,
208.33333333333334: B4-208.33333333333334 + G2/208.33333333333334,
208.33333333333334: C5-208.33333333333334 + C2/208.33333333333334,
4583.333333333334`;

const coin = tune`
164.83516483516485: E5-600,
164.83516483516485: A5-300,
4945.054945054945`;

let playback = playTune (bgm, Infinity);

onInput("d", () => {
  playTune(coin);
});

onInput("w", () => {
  playback.end();
  playTune(win);
  setTimeout(() => {
    playback = playTune (bgm, Infinity);
  }, "3000");
});
